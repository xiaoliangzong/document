JDK本身提供了很多方便的JVM性能调优监控工具，除了集成式的VisualVM和jConsole外，还有jps、jstack、jmap、jhat、jstat等小巧的工具，另外还有一些商业性的工具，如JProfiler等，相对于这些集成性的工具，在资源消耗方面会比较大，有时候一些线上临时性的需要抓取线程信息和堆信息的情况，这些集成性的工具使用起来就显得不“那么强大和好用了”，这个时候，反而一些简单的命令，可以帮我们解决燃眉之急，也非常简单好用，这次就先简单介绍一下线程相关的知识，以及常用工具的用法，帮助我们快速定位问题。


Jstack是常用的排查工具，它能输出在某一个时间，Java进程中所有线程的状态，很多时候这些状态信息能给我们的排查工作带来有用的线索。 Jstack的输出中，Java线程状态主要是以下几种：

RUNNABLE 线程运行中或I/O等待
BLOCKED 线程在等待monitor锁(synchronized关键字)
TIMED_WAITING 线程在等待唤醒，但设置了时限
WAITING 线程在无限等待唤醒